# ğŸš€ NO-CRM å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. æœåŠ¡å™¨è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04+ æˆ– CentOS 7+
- **å†…å­˜**: è‡³å°‘ 1GB
- **ç£ç›˜**: è‡³å°‘ 5GB
- **æƒé™**: root æˆ– sudo æƒé™

### 2. æœåŠ¡å™¨éœ€è¦å®‰è£…
- Node.js 18+
- Nginx (è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…)
- PM2 (è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…)

## ğŸ¯ ä¸‰æ­¥å®Œæˆéƒ¨ç½²

### ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹é…ç½®

ç¼–è¾‘ `deploy/nginx.conf` ç¬¬ 2 è¡Œï¼š
```nginx
server_name your-domain.com;  # æ”¹ä¸ºä½ çš„åŸŸåæˆ–IP
```

ä¾‹å¦‚ï¼š
```nginx
server_name 192.168.1.100;  # ä½¿ç”¨IP
# æˆ–
server_name example.com;     # ä½¿ç”¨åŸŸå
```

### ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥ç¯å¢ƒ

åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š
```bash
./deploy/check.sh
```

ç¡®ä¿æ‰€æœ‰æ£€æŸ¥éƒ½é€šè¿‡ âœ“

### ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œéƒ¨ç½²

```bash
./deploy/deploy.sh root@your-server-ip
```

**ç¤ºä¾‹ï¼š**
```bash
# ä½¿ç”¨IP
./deploy/deploy.sh root@192.168.1.100

# ä½¿ç”¨åŸŸå
./deploy/deploy.sh root@example.com

# ä½¿ç”¨érootç”¨æˆ·
./deploy/deploy.sh ubuntu@192.168.1.100
```

## â±ï¸ éƒ¨ç½²æ—¶é—´

æ•´ä¸ªéƒ¨ç½²è¿‡ç¨‹å¤§çº¦éœ€è¦ **3-5 åˆ†é’Ÿ**ï¼ŒåŒ…æ‹¬ï¼š
1. æ„å»ºå‰ç«¯ (~1åˆ†é’Ÿ)
2. æ„å»ºåç«¯ (~30ç§’)
3. ä¸Šä¼ æ–‡ä»¶ (~1åˆ†é’Ÿ)
4. å®‰è£…ä¾èµ– (~1-2åˆ†é’Ÿ)
5. é…ç½®æœåŠ¡ (~30ç§’)

## âœ… éƒ¨ç½²å®Œæˆå

### è®¿é—®ç³»ç»Ÿ
```
http://your-server-ip
```

### æ£€æŸ¥æœåŠ¡çŠ¶æ€
```bash
# SSH ç™»å½•æœåŠ¡å™¨
ssh root@your-server-ip

# æŸ¥çœ‹åç«¯æœåŠ¡
pm2 status

# æŸ¥çœ‹ Nginx çŠ¶æ€
systemctl status nginx

# æŸ¥çœ‹æ—¥å¿—
pm2 logs no-crm-backend
```

## ğŸ“ æœåŠ¡å™¨æ–‡ä»¶ä½ç½®

```
/var/www/no-crm/
â”œâ”€â”€ frontend/      # å‰ç«¯é™æ€æ–‡ä»¶
â”œâ”€â”€ backend/       # åç«¯æœåŠ¡
â”œâ”€â”€ uploads/       # ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶
â”œâ”€â”€ data/          # JSON æ•°æ®æ–‡ä»¶
â””â”€â”€ logs/          # åº”ç”¨æ—¥å¿—
```

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### é‡å¯æœåŠ¡
```bash
ssh root@your-server "pm2 restart no-crm-backend"
```

### æŸ¥çœ‹æ—¥å¿—
```bash
ssh root@your-server "pm2 logs no-crm-backend --lines 50"
```

### é‡å¯ Nginx
```bash
ssh root@your-server "sudo systemctl restart nginx"
```

### æ›´æ–°éƒ¨ç½²
```bash
# é‡æ–°æ‰§è¡Œéƒ¨ç½²è„šæœ¬å³å¯
./deploy/deploy.sh root@your-server-ip
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡éƒ¨ç½²**: ç¡®ä¿æœåŠ¡å™¨é˜²ç«å¢™å¼€æ”¾ 80 ç«¯å£
   ```bash
   ufw allow 80/tcp
   ```

2. **åŸŸåè§£æ**: å¦‚æœä½¿ç”¨åŸŸåï¼Œç¡®ä¿ DNS å·²æ­£ç¡®è§£æåˆ°æœåŠ¡å™¨ IP

3. **SSH å¯†é’¥**: å»ºè®®é…ç½® SSH å¯†é’¥ç™»å½•ï¼Œé¿å…æ¯æ¬¡è¾“å…¥å¯†ç 

4. **æ•°æ®å¤‡ä»½**: éƒ¨ç½²å‰å¤‡ä»½é‡è¦æ•°æ®ï¼ˆå¦‚æœæœ‰ï¼‰

5. **HTTPS**: å»ºè®®é…ç½® SSL è¯ä¹¦ï¼ˆè§å®Œæ•´æ–‡æ¡£ï¼‰

## ğŸ› å¸¸è§é—®é¢˜

### 1. SSH è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥ SSH æœåŠ¡
ssh -v root@your-server-ip

# æ£€æŸ¥é˜²ç«å¢™
ufw status
```

### 2. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ 80 ç«¯å£
netstat -tlnp | grep 80

# æ£€æŸ¥ 3000 ç«¯å£
netstat -tlnp | grep 3000
```

### 3. æƒé™é—®é¢˜
```bash
# ä¿®å¤ä¸Šä¼ ç›®å½•æƒé™
sudo chown -R www-data:www-data /var/www/no-crm/uploads
sudo chmod 755 /var/www/no-crm/uploads
```

## ğŸ“– å®Œæ•´æ–‡æ¡£

è¯¦ç»†éƒ¨ç½²æ–‡æ¡£ï¼š[deploy/DEPLOY.md](DEPLOY.md)

## ğŸ’¡ æç¤º

- éƒ¨ç½²è¿‡ç¨‹ä¼šæ˜¾ç¤ºå½©è‰²è¿›åº¦æ¡å’Œè¯¦ç»†ä¿¡æ¯
- é‡åˆ°é”™è¯¯æ—¶ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨åœæ­¢å¹¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
- å¯ä»¥å¤šæ¬¡æ‰§è¡Œéƒ¨ç½²è„šæœ¬ï¼Œæ¯æ¬¡éƒ½ä¼šè¦†ç›–æ—§æ–‡ä»¶

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿå¼€å§‹éƒ¨ç½²å§ï¼** ğŸ‰

```bash
./deploy/check.sh && ./deploy/deploy.sh root@your-server-ip
```
